<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- Include FontAwesome for icons -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/responsive.css">
        <title>Mirkidrummer</title>
    </head>
    <body>
        <header>
            <div class="container">
                <nav class="navbar navbar-expand-lg">
                    <a class="navbar-brand" href="index.html">
                        <img src="images/brand.png" alt="">
                    </a>
                    <button
                        class="navbar-toggler"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#navbarSupportedContent"
                        aria-controls="navbarSupportedContent"
                        aria-expanded="false"
                        aria-label="Toggle navigation"
                    >
                        <span class="navbar-toggler-icon"></span>
                        <span class="navbar-toggler-icon"></span>
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav m-auto mb-2 mb-lg-0">
                            <li class="nav-item">
                                <a class="nav-link active" href="about.html">About</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" aria-current="page" href="video.html">Videos</a>
                                <!-- Active link -->
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="service.html">service</a>
                            </li>
                        </ul>
                        <div class="nav-social">
                            <ul>
                                <li>
                                    <a href="#">
                                        <img src="images/fb.png" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img src="images/twitter.png" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="https://www.instagram.com/mikibdrummer/">
                                        <img src="images/instagram.png" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/@CompanyMiki">
                                        <img src="images/youtube.png" alt="">
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
        </header>
        <div class="news-pra">
          <marquee id="newsMarquee">Loading news...</marquee>

  <script>
      async function fetchNews() {
          try {
              const response = await fetch('news.txt');
              const data = await response.text();

              // Process the text file and extract both titles and descriptions
              const newsArray = data.split('\n').filter(line => line.trim() !== ''); // Removing empty lines

              let newsItems = [];
              let currentNews = {};

              // Loop through each line and extract title and description
              for (let line of newsArray) {
                  if (line.startsWith('Title:')) {
                      if (currentNews.title) {
                          // Push the previous news item
                          newsItems.push(currentNews);
                      }
                      // Start a new news item
                      currentNews = { title: line.replace('Title: ', '').trim() };
                  } else if (line.startsWith('Description:')) {
                      // Add description to the current news item
                      currentNews.description = line.replace('Description: ', '').trim();
                  }
              }

              // Push the last news item
              if (currentNews.title) {
                  newsItems.push(currentNews);
              }

              // Format the news items into a string for the marquee
              const newsContent = newsItems.map(news => `${news.title} - ${news.description}`).join(' | ');

              // Display the news titles and descriptions in the marquee
              document.getElementById('newsMarquee').innerText = `${newsContent}`;

          } catch (error) {
              document.getElementById('newsMarquee').innerText = 'Error loading news';
          }
      }

      // Fetch and display news on page load
      fetchNews();
  </script>
        </div>
        <section class="hero about-hero">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-resp">
                        <div class="hero-left">
                            <h2 class="main-text">About:</h2>
                            <p class="main-text">
                                Originally from the sun-soaked shores of Ibiza, Spain, and now shaking things up in Vancouver, 
                                Miki has been smashing the drums for over two decades. Starting out in the suburban skate punk scene 
                                of the Balearic Islands, heâ€™s now fully plugged into Vancouver's music scene.
                            </p>
                            <h2 class="main-text">In-Person service:</h2>
                            <ol>
                                <li>
                                    <a href="#" class="main-text">Presencial Drum Lessons</a>
                                </li>
                            </ol>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="hero-right">
                            <img src="images/band.png" alt="">
                            <div class="text-box">
                                <p class="main-text">
                                    pdp maple custom
                            zildjian a
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="live-overlay">
                    <div class="overlay-content">
                        <div class="video-main">
                          <iframe id="youtubeFrame" width="100%" height="495"
      title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

  <script>
      // Function to fetch YouTube URL from JSON file
      async function loadYouTubeURL() {
          try {
              // Fetching the JSON file
              const response = await fetch('youtubeurl.json');

              // Parsing the JSON data
              const data = await response.json();

              // Getting the iframe element
              const iframe = document.getElementById('youtubeFrame');

              // Setting the src attribute of the iframe to the URL from JSON
              iframe.src = data.youtube_url;
          } catch (error) {
              console.error('Error loading YouTube URL:', error);
          }
      }

      // Load the YouTube URL when the page loads
      window.onload = loadYouTubeURL;
  </script>
                        </div>
                      <a href="#" class="close-overlay"><img src="images/cross.png" alt=""></a>
                    </div>
                  </div>
            </div>
        </section>
        <footer>
            <div class="footer-main">
                <div class="container">
                    <div class="footer-audio-main">
                        <div class="audio-player">
                            <audio id="audio" src="audio/audio1.mp3"></audio>
                            <div class="thumbnail">
                                <img id="thumbnail-img" src="images/music-img1.png" alt="Song Thumbnail">
                            </div>
                            <div class="controls">
                                <button id="prev" class="control-button">
                                    <i class="fas fa-backward"></i>
                                </button>
                                <button id="playPause" class="control-button">
                                    <i class="fas fa-play"></i>
                                </button>
                                <button id="next" class="control-button">
                                    <i class="fas fa-forward"></i>
                                </button>
                                <input
                                    type="range"
                                    id="seekBar"
                                    value="0"
                                    min="0"
                                    max="100"
                                    step="1"
                                >
                                <span id="currentTime">0:00</span>
                                <span id="duration">0:00</span>
                                <button id="playlist" class="control-button">
                                    <i class="fas fa-list"></i>
                                </button>
                                <button id="volume" class="control-button">
                                    <i class="fas fa-volume-up"></i>
                                </button>
                            </div>
                            <div class="playlist">
                                <ul id="playlist-songs">
                                    <li data-src="audio/audio1.mp3" data-thumbnail="images/music-img1.png" class="active">Song 1</li>
                                    <li data-src="audio/audio2.mp3" data-thumbnail="images/thumbnail-img2.jpg">Song 2</li>
                                    <li data-src="audio/03 - Land and Sea.mp3" data-thumbnail="images/thumbnail-img3.jpg">Song 3</li>
                                    <li data-src="audio/04 - Skamen.mp3" data-thumbnail="images/thumbnail-img4.jpg">Song 4</li>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/custom.js"></script>
    </body>
</html>


<script type="text/javascript">
// Function to show or hide the overlay based on config value
function toggleOverlay(showOverlay) {
  var overlay = document.querySelector('.live-overlay');
  if (showOverlay === "yes") {
      overlay.style.display = "flex";  // Show the overlay
  } else {
      overlay.style.display = "none";  // Hide the overlay
  }
}

// Fetch the configuration from the JSON file
fetch('config.json')
  .then(response => response.json())
  .then(data => {
      toggleOverlay(data.showOverlay); // Call the function with the value from the JSON file
  })
  .catch(error => console.error('Error fetching the configuration:', error));

// Event listener to close the overlay when the close button is clicked
document.querySelector('.close-overlay').addEventListener('click', function(event) {
  event.preventDefault();
  document.querySelector('.live-overlay').style.display = "none"; // Hide overlay when clicked
});

// Optional: Show overlay again on button click
document.getElementById('showOverlay').addEventListener('click', function() {
  document.querySelector('.live-overlay').style.display = "flex";  // Show overlay when button clicked
});

</script>


<style media="screen">
.live-overlay {
  display: none; /* Initially hide the overlay */

}

</style>
